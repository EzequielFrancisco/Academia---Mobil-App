ScreenManager:
    SplashScreen:
    HomeScreen:
    QuizScreen:
    FormScreen:


<SplashScreen>:
    name: "splash"

    MDBoxLayout:
        orientation: "vertical"
        padding: "40dp"
        spacing: "20dp"

        MDLabel:
            text: "A carregar..."
            halign: "center"
            font_style: "H4"

        MDProgressBar:
            id: progress_bar
            value: 90
            max: 100
            size_hint_y: None
            height: "6dp"

        MDLabel:
            text: "Por favor aguarde"
            halign: "center"


# ---------------------home screen------------------------
<HomeScreen>:
    name: "home"

    MDBoxLayout:
        id: container
        orientation: "vertical"
        
        MDScrollView:
            height: "100dp"
            do_scroll_x: True
            do_scroll_y: True
            padding: [0, 10, 0, 10] # left, top, right, bottom
            
            MDBoxLayout:
                orientation: "horizontal"
                spacing: "5dp"
                padding: "10dp"
                size_hint: 1, 1
                width: "1000dp"
                pos_hint: {"center_x":0.5}
                width: self.minimum_width
                
                MDBoxLayout:
                    orientation: "vertical"
                    pos_hint: {"center_x":0.5}
                    size_hint: 1, None
                    height: "200dp"
                    width: "600dp"
                    md_bg_color: 0.2, 0.5, 0.9, 1
                    radius: [20, 20, 20, 20]
                    Label:
                        color: 1, 1, 1, 1
                        font_size: "24sp"
                        text: "Pronto para aprender?"
                

        MDScrollView:
            height: "100dp"
            do_scroll_x: True
            do_scroll_y: True

            MDBoxLayout:
                orientation: "horizontal"
                spacing: "5dp"
                padding: "10dp"
                size_hint_x: None
                width: self.minimum_width

                MDCard:
                    size_hint: None, None
                    height: "75dp"
                    width: "75dp"
                    radius: 10
                    md_bg_color: 0.9, 0.9, 0.9, 1
                    on_release: root.screen_root('quiz')
                    Label:
                        color: 0, 0, 0, 1
                        text: "Historia"
                MDCard:
                    size_hint: None, None
                    height: "75dp"
                    width: "75dp"
                    radius: 10
                    md_bg_color: 0.9, 0.9, 0.9, 1
                    Label:
                        color: 0, 0, 0, 1
                        text: "Ingles"
                MDCard:
                    size_hint: None, None
                    height: "75dp"
                    width: "75dp"
                    radius: 10
                    md_bg_color: 0.9, 0.9, 0.9, 1
                    Label:
                        color: 0, 0, 0, 1
                        text: "Math"
                MDCard:
                    size_hint: None, None
                    height: "75dp"
                    width: "75dp"
                    radius: 10
                    md_bg_color: 0.9, 0.9, 0.9, 1
                    Label:
                        color: 0, 0, 0, 1
                        text: "Fisica"
                MDCard:
                    size_hint: None, None
                    height: "75dp"
                    width: "75dp"
                    radius: 10
                    md_bg_color: 0.9, 0.9, 0.9, 1
                    Label:
                        color: 0, 0, 0, 1
                        text: "Geografia"
        MDBottomAppBar:
            
            MDTopAppBar:
                title: "Academia"
                icon: "plus"
                type: "bottom"
                on_action_button: root.on_plus()
                shadow_color: 0, 0, 0, 1
                elevation: 0
                mode: "end"
                left_action_items: [["menu", lambda x: root.on_plus()]]

# ---------------------quiz screen------------------------
<QuizScreen>:
    name: "quiz"

    MDBoxLayout:
        orientation: "vertical"
        padding: "20dp"
        spacing: "20dp"

        # Área da pergunta (altura fixa)
        MDBoxLayout:
            size_hint_y: None
            height: dp(120)
            md_bg_color: 0.2, 0.5, 0.9, 1
            radius: [20, 20, 20, 20]

            Label:
                color: 1, 1, 1, 1
                font_size: "14sp"
                text: "Qual a Capital de Angola?"

            MDFillRoundFlatButton:
                text: "Div principal"

        # Área das opções (cresce com o conteúdo)
        ScrollView:
            size_hint_y: 1   # ocupa todo o espaço restante
            MDGridLayout:
                id: containers_quiz_card
                cols: 2
                spacing: dp(10)
                padding: dp(10)
                size_hint_y: None
                adaptive_height: True

# ---------------------form screen------------------------
<FormScreen>:
    name: "form"
    MDScreen:

        MDTextField:
            id: question
            hint_text: "Create a question"
            pos_hint: {"center_x": 0.5, "center_y":0.7}
            size_hint_x: 0.7
            size_hint_y: 0.2
            mode: "rectangle"

        MDBoxLayout:
            id: form_screen
            orientation: "vertical"
            spacing: "50dp"
            padding: "10dp"

        MDBoxLayout:
            orientation: "horizontal"
            spacing: "5dp"
            padding: "10dp"
            size_hint: None, None
            height: "100dp"
                
            
            MDRaisedButton:
                text: "Criar jogo"
                pos_hint: {"center_x": 0.5, "center_y":0.1}
                on_release: root.create_game()
            
            MDRaisedButton:
                text: "Adicionar resposta"
                pos_hint: {"center_x": 0.5, "center_y":0.1}
                on_release: root.create_question(2)
